---
title: "Random ponds in a 2D landscape"
layout: example
authordate: "Nick Trefethen, May 2017"
meta: "(Chebfun example approx2/RandomPonds.m)"
---

Suppose $f$ is a 2D random function defining a "random landscape", which is filled with water up to a level $h$.  The water collects into random ponds, an interpretation I learned about from Ken Golden of the University of Utah [1].

Here is an illustration for $h=-1$.

<pre class="mcode-input">blueblack = [.7 .7 1; 0 0 0];
FS = 'fontsize'; CO = 'color';
h = -1;
dom = [-2 2 -1 1];
f = randnfun2(0.3,dom);
plot(f-h, 'zebra'), axis equal off, colormap(blueblack)
title(['h = ' num2str(h)],FS,18)</pre><img src="img/RandomPonds_01.png" class="figure" alt="">

Of course, the mathematics depends on one's notion of a random function, and Chebfun makes a particular choice defined by certain random Fourier coefficients.

If $h$ is lower, the ponds are smaller and more separated.

<pre class="mcode-input">h = -2;
plot(f-h, 'zebra'), axis equal off, colormap(blueblack)
title(['h = ' num2str(h)],FS,18)</pre><img src="img/RandomPonds_02.png" class="figure" alt="">

As $h$ gets bigger, the ponds grow and connect into a giant body of water.  This is related to the subject of percolation theory.

<pre class="mcode-input">for h = 0:2
   plot(f-h, 'zebra'), axis equal off, colormap(blueblack)
   title(['h = ' num2str(h)],FS,18)
   snapnow
end</pre><img src="img/RandomPonds_03.png" class="figure" alt="">

<img src="img/RandomPonds_04.png" class="figure" alt="">

<img src="img/RandomPonds_05.png" class="figure" alt="">

We can also let $h$ vary across the domain.  The resulting image is reminiscent of an engraving by Escher.

<pre class="mcode-input">dom = [-3 3 -1 1];
f = randnfun2(.1, dom);
h = chebfun2(@(x,y) x, dom);
plot(f-h, 'zebra'), axis equal off, colormap(blueblack)
title('varying h',FS,18)</pre><img src="img/RandomPonds_06.png" class="figure" alt="">

Reference:

[1] B. Bowen, C. Strong, and K. M. Golden, Modeling the fractal geometry of Arctic melt pounds using the level sets of random surfaces, _Journal of Fractal Geometry_, to appear.

